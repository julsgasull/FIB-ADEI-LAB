% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
  18pt,
  a4paper]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={Deliverable 3},
  pdfauthor={Júlia Gasull i Claudia Sánchez},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage[left=1.9cm,right=1.9cm,top=1.25cm,bottom=1.52cm]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}

\title{Deliverable 3}
\usepackage{etoolbox}
\makeatletter
\providecommand{\subtitle}[1]{% add subtitle to \maketitle
  \apptocmd{\@title}{\par {\large #1 \par}}{}{}
}
\makeatother
\subtitle{Numeric and Binary targets Forecasting Models}
\author{Júlia Gasull i Claudia Sánchez}
\date{\today}

\begin{document}
\maketitle

{
\setcounter{tocdepth}{4}
\tableofcontents
}
\hypertarget{first-setups}{%
\section{First setups}\label{first-setups}}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{if}\NormalTok{(}\OperatorTok{!}\KeywordTok{is.null}\NormalTok{(}\KeywordTok{dev.list}\NormalTok{())) }\KeywordTok{dev.off}\NormalTok{()  }\CommentTok{# Clear plots}
\KeywordTok{rm}\NormalTok{(}\DataTypeTok{list=}\KeywordTok{ls}\NormalTok{())                       }\CommentTok{# Clean workspace}
\end{Highlighting}
\end{Shaded}

\hypertarget{load-required-packages-for-this-deliverable}{%
\subsection{Load Required Packages for this
deliverable}\label{load-required-packages-for-this-deliverable}}

We load the necessary packages and set working directory

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{setwd}\NormalTok{(}\StringTok{"~/Github Repositories/FIB-ADEI-LAB/deliverable3"}\NormalTok{)}
\NormalTok{filepath<-}\StringTok{"~/Github Repositories/FIB-ADEI-LAB/deliverable3"}
\CommentTok{#setwd("C:/Users/Claudia Sánchez/Desktop/FIB/TARDOR 2020-2021/ADEI/DELIVERABLE1/FIB-ADEI-LAB/deliverable2")}
\CommentTok{#filepath<-"C:/Users/Claudia Sánchez/Desktop/FIB/TARDOR 2020-2021/ADEI/DELIVERABLE1/FIB-ADEI-LAB/deliverable2"}

\CommentTok{# Load Required Packages}
\KeywordTok{options}\NormalTok{(}\DataTypeTok{contrasts=}\KeywordTok{c}\NormalTok{(}\StringTok{"contr.treatment"}\NormalTok{,}\StringTok{"contr.treatment"}\NormalTok{))}
\NormalTok{requiredPackages <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"missMDA"}\NormalTok{,}\StringTok{"chemometrics"}\NormalTok{,}\StringTok{"mvoutlier"}\NormalTok{,}\StringTok{"effects"}\NormalTok{,}\StringTok{"FactoMineR"}\NormalTok{,}\StringTok{"car"}\NormalTok{, }\StringTok{"factoextra"}\NormalTok{,}\StringTok{"RColorBrewer"}\NormalTok{,}\StringTok{"dplyr"}\NormalTok{,}\StringTok{"ggmap"}\NormalTok{,}\StringTok{"ggthemes"}\NormalTok{,}\StringTok{"knitr"}\NormalTok{)}
\NormalTok{missingPackages <-}\StringTok{ }\NormalTok{requiredPackages[}\OperatorTok{!}\NormalTok{(requiredPackages }\OperatorTok{%in%}\StringTok{ }\KeywordTok{installed.packages}\NormalTok{()[,}\StringTok{"Package"}\NormalTok{])]}
\ControlFlowTok{if}\NormalTok{(}\KeywordTok{length}\NormalTok{(missingPackages)) }\KeywordTok{install.packages}\NormalTok{(missingPackages)}
\KeywordTok{lapply}\NormalTok{(requiredPackages, require, }\DataTypeTok{character.only =} \OtherTok{TRUE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{load-processed-data-from-last-deliverable}{%
\subsection{Load processed data from last
deliverable}\label{load-processed-data-from-last-deliverable}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{load}\NormalTok{(}\KeywordTok{paste0}\NormalTok{(filepath,}\StringTok{"/Taxi5000_del2.RData"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\hypertarget{some-useful-information}{%
\subsection{Some useful information}\label{some-useful-information}}

\hypertarget{y-numeric-target.}{%
\subsubsection{Y (Numeric Target).}\label{y-numeric-target.}}

This variable will be the target for linear model building (connected to
blocks Statistical Modeling I and II).

\hypertarget{explicative-variables-for-modeling-purposes-are-generally-not-all-in-this-dataset}{%
\subsubsection{Explicative Variables for modeling purposes are generally
(not all in this
dataset):}\label{explicative-variables-for-modeling-purposes-are-generally-not-all-in-this-dataset}}

\begin{itemize}
\tightlist
\item
  Socioeconomic variables: gender, age, education, type of work, etc
\item
  Trip characteristics, etc.
\item
  Bank marketing history
\item
  Economic vars
\end{itemize}

\hypertarget{multivariant-analysis-conducted-in-previous-deliverables-has-to-be-used-to-select-the-initial-model.-students-have-some-degrees-in-freedom-in-model-building-but-the-following-conditions-are-requested}{%
\subsubsection{Multivariant Analysis conducted in previous deliverables
has to be used to select the initial model. Students have some degrees
in freedom in model building, but the following conditions are
requested:}\label{multivariant-analysis-conducted-in-previous-deliverables-has-to-be-used-to-select-the-initial-model.-students-have-some-degrees-in-freedom-in-model-building-but-the-following-conditions-are-requested}}

\begin{itemize}
\tightlist
\item
  At least two numerical variables have to be considered as explicative
  variables for initial steps in model building, called covariates.
  Non-linear models have to be checked for consistency.
\item
  Select the most significant factors found in Multivariant Data
  Analysis as initial model factors. Put some reasonable limits to
  initial model complexity.
\item
  \textbf{You have to consider at least one interaction between a couple
  of factors and one interaction between factor and covariate.}
\item
  Diagnostics of the final model have to be undertaken. Lack of fit
  observations and influence data have to be selected and discussed
  (connections to multidimensional outliers in Multivariant Data
  Analysis is highly valuable)
\end{itemize}

\hypertarget{outcometarget-a-binary-response-variable-binary-target-will-be-the-response-variable-for-binary-regression-models-included-in-statistical-modeling-part-iii.}{%
\subsubsection{Outcome/Target : A binary response variable (Binary
Target) will be the response variable for Binary Regression Models
included in Statistical Modeling Part
III.}\label{outcometarget-a-binary-response-variable-binary-target-will-be-the-response-variable-for-binary-regression-models-included-in-statistical-modeling-part-iii.}}

\begin{itemize}
\item
  Explicative Variables for modeling purposes are those available in
  dataset, exceptions will be indicated, if any.
\item
  Multivariant Analysis conducted in previous deliverables has to be
  used to select the initial model. Students have some degrees in
  freedom in model building, but the following conditions are requested:

  \begin{itemize}
  \tightlist
  \item
    Split the sample in work and test samples (consisting on a 80-20
    split). Working data frame has to be used for model building
    purposes.
  \item
    At least two numerical variables have to be considered as
    explicative variables for initial steps in model building.
  \item
    Select the most significant factors according to feature selection
    as initial model factors. Put some reasonable limits to initial
    model complexity.
  \item
    \textbf{You have to consider at least one interaction between a
    couple of factors and one interaction between factor and covariate.}
  \item
    Diagnostics of the final model have to be undertaken. Lack of fit
    observations and influence data have to be selected and discussed
    (connections to multidimensional outliers in Multivariant Data
    Analysis is highly valuable).
  \item
    You have to predict Y (Binary Target) in the Working Data Frame vs
    the rest according to the best validated model that you can find and
    make a confusion matrix.
  \item
    Make a confusion matrix in the Testing Data Frame for \textbf{Y
    (Binary Target)} according to the best validated model found.
  \end{itemize}
\end{itemize}

\hypertarget{confusion-matrix}{%
\subsubsection{Confusion Matrix:}\label{confusion-matrix}}

When referring to the performance of a classification model, we are
interested in the model's ability to correctly predict or separate the
classes. When looking at the errors made by a classification model, the
confusion matrix gives the full picture. Consider e.g.~a three class
problem with the classes A, and B. The confusion matrix shows how the
predictions are made by the model. The rows correspond to the known
class of the data, i.e.~the labels in the data. The columns correspond
to the predictions made by the model. The value of each of element in
the matrix is the number of predictions made with the class
corresponding to the column for examples with the correct value as
represented by the row. Thus, the diagonal elements show the number of
correct classifications made for each class, and the off-diagonal
elements show the errors made.

\end{document}
